<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Pré-Federal - Coluni (2024-2025)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Definição das variáveis de cor da paleta - Novas cores para o cabeçalho/CTA */
        :root {
            --primary-blue: #5242ea;
            --primary-lime: #c7ef59;
            --dark-blue: #3007a0;
            --teal: #00abb1; /* Cor selecionada para a CTA */
            --purple: #6408b0;
            --green: #7bcd47;
            --dark-green: #005b38;
            --orange-red: #dd5737;
            --text-dark: #1a202c;
            --text-light: #f0f4f8;

            /* Cores originais do COLUNI personalisado.html para o restante do conteúdo */
            --brand-purple: #310099;
            --brand-lime: #D4FF70;
            --soft-gray: #f7f7f7;
            --dark-text-original: #1f2937; /* Renomeado para evitar conflito */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--soft-gray); /* Fundo original do Coluni */
            color: var(--dark-text-original); /* Cor de texto original do Coluni */
        }

        /* Estilos do novo cabeçalho e hero section */
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover {
            color: var(--primary-blue);
            border-bottom-color: var(--primary-blue);
        }
        
        .hero-title .highlight {
            background-color: var(--primary-lime);
            color: var(--dark-blue);
            padding: 0.25rem 1rem;
            border-radius: 0.75rem;
            display: inline-block;
        }
        .section-title {
            font-size: 2.5rem;
            font-weight: 900;
            line-height: 1.2;
            color: var(--dark-blue);
        }
        .section-subtitle {
            font-size: 1.25rem;
            color: #4A5568;
        }

        /* Estilo para a seção CTA com a cor variada */
        .cta-section {
            background-color: var(--teal); /* Usando a cor 'teal' da paleta */
            color: white;
            padding: 3rem 1.5rem;
            text-align: center;
            border-radius: 0.75rem;
            margin-top: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .cta-section h2 {
            font-size: 2.25rem;
            font-weight: 900;
            margin-bottom: 1rem;
        }
        .cta-section p {
            font-size: 1.125rem;
            max-width: 48rem;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 1.5rem;
            color: #e0f7fa; /* Tom mais claro de branco para contraste */
        }

        .cta-button-primary {
            background-color: var(--primary-lime);
            color: var(--text-dark);
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 700;
            transition: all 0.3s ease;
            transform: scale(1);
        }
        .cta-button-primary:hover {
            background-color: white;
            transform: scale(1.05);
        }
        .cta-button-secondary {
            border: 2px solid var(--primary-lime);
            color: var(--primary-lime);
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 700;
            transition: all 0.3s ease;
            transform: scale(1);
        }
        .cta-button-secondary:hover {
            background-color: var(--primary-lime);
            color: var(--text-dark);
            transform: scale(1.05);
        }

        /* Estilos originais do COLUNI personalisado.html */
        .section-card {
            background-color: white;
            border-radius: 1.5rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.05), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            margin-bottom: 2.5rem;
        }
        .tab-button-hist.active {
            background-color: var(--brand-purple);
            color: white;
            box-shadow: 0 4px 14px 0 rgba(49, 0, 153, 0.39);
        }
        .tab-button-hist {
            transition: all 0.3s ease;
        }
        .main-button {
            background-color: var(--brand-purple);
            color: white;
            transition: all 0.3s ease;
            transform: scale(1);
        }
        .main-button:hover {
            background-color: #25007a;
            transform: scale(1.05);
        }
        .subject-icon {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .subject-icon.active {
            background-color: var(--brand-lime);
            color: var(--dark-text-original);
            border-color: var(--brand-purple);
            transform: translateY(-5px);
        }
        /* Ajuste para o cta-button-primary original do Coluni */
        .cta-button-primary-original { /* Renomeado para não conflitar com o novo cta-button-primary */
             background-color: var(--brand-lime);
             color: var(--brand-purple);
             transition: all 0.3s ease;
        }
        .cta-button-primary-original:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(212, 255, 112, 0.3);
        }
        /* Estilos para tabelas e gráficos, mantidos do simulador anterior */
        .chart-container {
            position: relative;
            margin: auto;
            height: 50vh;
            width: 100%;
            max-width: 900px;
            max-height: 500px;
        }
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }
        .data-table-container {
            max-width: 900px;
            margin: auto;
            overflow-x: auto;
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1rem;
        }
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        .data-table th, .data-table td {
            padding: 0.75rem;
            border: 1px solid #e2e8f0;
            text-align: left;
        }
        .data-table th {
            background-color: #f8f8f8;
            font-weight: 600;
        }
        .campus-result-box {
            background-color: #f8fafc;
            border: 1px solid #cbd5e1;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .campus-result-box h4 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark-blue); /* Usando a cor do novo design para títulos */
            margin-bottom: 1rem;
        }
        .course-result-item {
            margin-bottom: 0.75rem;
            padding-left: 0.75rem;
            border-left: 3px solid var(--primary-blue); /* Usando a cor do novo design para bordas */
        }
        .course-result-item:last-child {
            margin-bottom: 0;
        }
        #calculate-approval {
            background-color: var(--primary-blue); /* Usando a cor do novo design para o botão */
        }
        #calculate-approval:hover {
            background-color: var(--dark-blue); /* Usando a cor do novo design para o hover */
        }

        /* Estilos para a nova seção de Detalhes das Cotas */
        .quota-detail-card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid var(--brand-purple);
        }
        .quota-detail-card h4 {
            font-weight: 700;
            color: var(--brand-purple);
            margin-bottom: 0.5rem;
        }
        .quota-detail-card p {
            font-size: 0.95rem;
            color: #4A5568;
        }
        
        /* Floating Action Button (FAB) Styles */
        .fab-container {
            position: fixed;
            bottom: 1rem; /* 16px */
            right: 1rem; /* 16px */
            z-index: 9999;
            display: flex;
            flex-direction: column-reverse;
            align-items: flex-end;
        }
        @media (min-width: 768px) {
            .fab-container {
                bottom: 1.5rem; /* 24px */
                right: 1.5rem; /* 24px */
            }
        }
        .fab-main {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #5242ea;
            color: white;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            font-size: 24px;
            cursor: pointer;
            transition: transform 0.3s ease, background-color 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 15px;
        }
        .fab-main .icon-open,
        .fab-main .icon-close {
            transition: transform 0.3s ease, opacity 0.3s ease;
            position: absolute;
        }
        .fab-main .icon-close {
            transform: rotate(-45deg) scale(0);
            opacity: 0;
        }
        .fab-options {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            visibility: hidden;
            opacity: 0;
            transition: all 0.3s ease;
            transform: translateY(10px);
        }
        .fab-container.active .fab-options {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }
        .fab-container.active .fab-main {
            background-color: #dd5737; /* Laranja ao ativar */
        }
        .fab-container.active .fab-main .icon-open {
            transform: rotate(45deg) scale(0);
            opacity: 0;
        }
        .fab-container.active .fab-main .icon-close {
            transform: rotate(0deg) scale(1);
            opacity: 1;
        }
        .fab-option {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            text-decoration: none;
        }
        .fab-label {
            background-color: white;
            color: #1e293b;
            padding: 5px 12px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            margin-right: 15px;
            font-weight: 600;
            white-space: nowrap;
        }
        .fab-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            font-size: 20px;
            transition: transform 0.2s ease;
        }
        .fab-option:hover .fab-icon {
            transform: scale(1.1);
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-sm py-4 sticky top-0 z-50">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a href="https://guiaprefederal.com.br" class="flex items-center space-x-2">
                <img src="https://guiaprefederal.com.br/logo.png" 
                     alt="Guia - Pré Federal Logo" 
                     class="rounded-full w-10 h-10" 
                     style="background-color: #7bcd47;"
                     onerror="this.onerror=null;this.src='https://placehold.co/40x40/7BCD47/FFFFFF?text=GPF';">
                <span class="text-xl font-bold" style="color: #5242ea;">Guia Pré-Federal</span>
            </a>
            <nav class="hidden md:block">
                <ul class="flex space-x-6">
                    <li><a href="#simulador" class="text-slate-700 hover:text-[#5242ea] font-medium transition duration-300">Simulador</a></li>
                    <li><a href="#historico" class="text-slate-700 hover:text-[#5242ea] font-medium transition duration-300">Histórico</a></li>
                    <li><a href="#conteudo" class="text-slate-700 hover:text-[#5242ea] font-medium transition duration-300">Conteúdo</a></li>
                    <li><a href="#detalhes-cotas" class="text-slate-700 hover:text-[#5242ea] font-medium transition duration-300">Cotas</a></li>
                    <li><a href="#dicas" class="text-slate-700 hover:text-[#5242ea] font-medium transition duration-300">Dicas</a></li>
                </ul>
            </nav>
            <button class="md:hidden text-slate-700 focus:outline-none" id="mobile-menu-button">
                <i class="fas fa-bars text-2xl"></i>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white py-2 shadow-md">
            <ul class="flex flex-col items-center space-y-4">
                <li><a href="#simulador" class="block text-slate-700 hover:text-[#5242ea] font-medium py-2">Simulador</a></li>
                <li><a href="#historico" class="block text-slate-700 hover:text-[#5242ea] font-medium py-2">Histórico</a></li>
                <li><a href="#conteudo" class="block text-slate-700 hover:text-[#5242ea] font-medium py-2">Conteúdo</a></li>
                <li><a href="#detalhes-cotas" class="block text-slate-700 hover:text-[#5242ea] font-medium py-2">Cotas</a></li>
                <li><a href="#dicas" class="block text-slate-700 hover:text-[#5242ea] font-medium py-2">Dicas</a></li>
            </ul>
        </div>
    </header>

    <main>
        <!-- Hero Section (Nova Roupagem) -->
        <section id="hero" class="bg-white py-20">
            <div class="container mx-auto px-6 text-center">
                 <img src="https://guiaprefederal.com.br/logo1.png" 
                      alt="Logo Guia Pré-Federal em destaque" 
                      class="w-24 h-24 md:w-32 md:h-32 mx-auto mb-6 rounded-full shadow-lg border-4 border-gray-200" 
                      style="background-color: var(--orange-red);"
                      onerror="this.onerror=null;this.src='https://placehold.co/128x128/DD5737/FFFFFF?text=GPF';">
                 <h1 class="text-5xl md:text-6xl font-black" style="color: var(--dark-blue);">Guia <span class="px-4 py-1 rounded-md" style="background-color: var(--primary-lime); color: var(--dark-blue);">Pré-Federal</span></h1>
                <p class="section-subtitle max-w-3xl mx-auto mt-4">Seu Raio-X completo do vestibular do Coluni.</p>
            </div>
        </section>

        <!-- Seção CTA (Call-to-Action) - Início (Nova Roupagem com cor 'teal') -->
        <section class="container mx-auto px-6 cta-section">
            <h2 class="text-3xl font-black mb-3">Quer Gabaritar o Processo Seletivo do Coluni?</h2>
            <p class="max-w-2xl mx-auto mb-6">Nosso curso preparatório focado no Coluni oferece aulas, simulados, material de apoio e tudo que você precisa para conquistar sua vaga. Aumente suas chances de aprovação!</p>
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
                <a href="https://imperioaulas.online/?fbclid=PAQ0xDSwK2VtVleHRuA2FlbQIxMQABp4ahcb14iDSFf2DeewkyWYMxb9B-GNzOouE9UAhqMapySb6SsHFIueHCbdLD_aem_LVZ8G4rY6Cs7zsvM1K1sHw" target="_blank" class="cta-button-primary flex items-center justify-center w-full sm:w-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M12 13V2l8 4-8 4"/><path d="M12 22v-8"/><path d="M20 10.5v7c0 .8-.5 1.5-1.3 1.8l-6 2.3c-.4.2-.9.2-1.3 0l-6-2.3A2 2 0 0 1 4 17.5v-7"/><path d="m4 6.5 8 4 8-4"/><path d="m4 13.5 8 4 8-4"/></svg>
                    Conheça Nosso Preparatório
                </a>
                <a href="https://wa.me/message/CNC5OQFPKLE7K1" target="_blank" class="cta-button-secondary flex items-center justify-center w-full sm:w-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
                    Fale Conosco no WhatsApp
                </a>
            </div>
        </section>

        <!-- Container Principal do Conteúdo Original do Coluni -->
        <div class="max-w-5xl mx-auto p-4 sm:p-6 lg:p-8">

            <!-- Seção: Simulador de Notas por Questões -->
            <section id="simulador" class="section-card">
                <h3 class="text-2xl font-bold text-center mb-2" style="color: var(--brand-purple);">Simulador de Desempenho</h3>
                <p class="text-center text-gray-500 mb-8">Insira seus acertos e veja como você se sairia nos vestibulares passados.</p>
                
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4 mb-6 text-sm">
                    <div>
                        <label for="q-port" class="font-semibold text-gray-600">Português (0-10)</label>
                        <input type="number" id="q-port" min="0" max="10" class="w-full mt-1 p-2 border rounded-md focus:ring-purple-500 focus:border-purple-500" placeholder="Acertos">
                    </div>
                    <div>
                        <label for="q-mat" class="font-semibold text-gray-600">Matemática (0-10)</label>
                        <input type="number" id="q-mat" min="0" max="10" class="w-full mt-1 p-2 border rounded-md focus:ring-purple-500 focus:border-purple-500" placeholder="Acertos">
                    </div>
                    <div>
                        <label for="q-ciencia" class="font-semibold text-gray-600">Ciências (0-8)</label>
                        <input type="number" id="q-ciencia" min="0" max="8" class="w-full mt-1 p-2 border rounded-md focus:ring-purple-500 focus:border-purple-500" placeholder="Acertos">
                    </div>
                     <div>
                        <label for="q-geo" class="font-semibold text-gray-600">Geografia (0-4)</label>
                        <input type="number" id="q-geo" min="0" max="4" class="w-full mt-1 p-2 border rounded-md focus:ring-purple-500 focus:border-purple-500" placeholder="Acertos">
                    </div>
                    <div>
                        <label for="q-hist" class="font-semibold text-gray-600">História (0-4)</label>
                        <input type="number" id="q-hist" min="0" max="4" class="w-full mt-1 p-2 border rounded-md focus:ring-purple-500 focus:border-purple-500" placeholder="Acertos">
                    </div>
                    <div>
                        <label for="q-eng" class="font-semibold text-gray-600">Inglês (0-2)</label>
                        <input type="number" id="q-eng" min="0" max="2" class="w-full mt-1 p-2 border rounded-md focus:ring-purple-500 focus:border-purple-500" placeholder="Acertos">
                    </div>
                </div>
                 <div class="mb-6">
                    <label for="nota-redacao" class="font-semibold text-sm text-gray-600">Nota da Redação (0-15)</label>
                    <input type="number" id="nota-redacao" min="0" max="15" class="w-full mt-1 p-2 border rounded-md focus:ring-purple-500 focus:border-purple-500" placeholder="Ex: 12">
                </div>
                
                <div class="grid md:grid-cols-2 gap-4 mb-8">
                    <!-- Ano de Referência removido conforme solicitação -->
                    <div>
                        <label for="sim-modalidade" class="font-semibold text-sm text-gray-600">Sua Modalidade de Vaga:</label>
                        <select id="sim-modalidade" class="w-full mt-1 p-2 border rounded-md focus:ring-purple-500 focus:border-purple-500">
                            <!-- Options will be populated by JavaScript, default to 2025 options -->
                        </select>
                    </div>
                </div>
                <div class="flex items-end mb-8">
                    <div class="flex items-center h-full">
                        <input id="bonus-2021" type="checkbox" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                        <label for="bonus-2021" class="ml-2 text-sm font-semibold text-gray-600">Sou de Escola Pública (para bônus de 2021)</label>
                    </div>
                </div>

                <div class="text-center">
                    <button onclick="simularNota()" class="main-button font-bold py-3 px-8 rounded-lg">
                        Simular meu Desempenho
                    </button>
                </div>
                <div id="resultado-simulador" class="mt-8 hidden"></div>
            </section>

            <!-- Histórico e Dados Detalhados -->
            <section id="historico" class="section-card">
                <h3 class="text-2xl font-bold text-center mb-8" style="color: var(--brand-purple);">Histórico de Dados do Vestibular</h3>
                <div id="tabs-container-hist">
                    <div class="flex flex-wrap justify-center gap-2 mb-8">
                        <button class="tab-button-hist px-4 py-2 font-semibold rounded-lg bg-slate-200 text-slate-700 active" onclick="changeHistTab('2025')">Ingresso 2025</button>
                        <button class="tab-button-hist px-4 py-2 font-semibold rounded-lg bg-slate-200 text-slate-700" onclick="changeHistTab('2024')">Ingresso 2024</button>
                        <button class="tab-button-hist px-4 py-2 font-semibold rounded-lg bg-slate-200 text-slate-700" onclick="changeHistTab('2023')">Ingresso 2023</button>
                        <button class="tab-button-hist px-4 py-2 font-semibold rounded-lg bg-slate-200 text-slate-700" onclick="changeHistTab('2022')">Ingresso 2022</button>
                        <button class="tab-button-hist px-4 py-2 font-semibold rounded-lg bg-slate-200 text-slate-700" onclick="changeHistTab('2021')">Ingresso 2021</button>
                    </div>
                    <div id="tab-content-hist" class="overflow-x-auto">
                         <!-- Conteúdo 2025 -->
                        <div id="content-hist-2025" class="tab-pane-hist active">
                            <h4 class="font-bold text-lg text-center mb-4">Notas de Corte - Ingresso 2025</h4>
                            <p class="text-center text-sm text-gray-500 mb-1">Total de Inscritos: 2.016</p>
                            <p class="text-center text-sm text-gray-500 mb-4">Nota Objetiva para Correção da Redação: <strong>34,00 / 58,00</strong></p>
                            <table class="min-w-full divide-y divide-gray-200">
                                 <thead class="bg-slate-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Modalidade</th>
                                        <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Corte (Último Convocado)</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200 text-center">
                                    <tr class="font-semibold"><td class="px-6 py-4 text-left">Ampla Concorrência (AC)</td><td class="px-6 py-4">54,0</td></tr>
                                    <tr><td class="px-6 py-4 text-left">LB_EP</td><td class="px-6 py-4">40,6</td></tr>
                                    <tr><td class="px-6 py-4 text-left">LI_EP</td><td class="px-6 py-4">39,8</td></tr>
                                    <tr><td class="px-6 py-4 text-left">LI_PCD</td><td class="px-6 py-4">46,6</td></tr>
                                    <tr><td class="px-6 py-4 text-left">LI_PPI</td><td class="px-6 py-4">40,4</td></tr>
                                </tbody>
                            </table>
                        </div>
                         <!-- Conteúdo 2024 -->
                        <div id="content-hist-2024" class="tab-pane-hist hidden">
                            <h4 class="font-bold text-lg text-center mb-4">Notas de Corte - Ingresso 2024</h4>
                            <p class="text-center text-sm text-gray-500 mb-1">Total de Inscritos: 2.172</p>
                            <p class="text-center text-sm text-gray-500 mb-4">Nota Objetiva para Correção da Redação: <strong>29,00 / 58,00</strong></p>
                            <table class="min-w-full divide-y divide-gray-200">
                                 <thead class="bg-slate-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Modalidade</th>
                                        <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Corte (Último Convocado)</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200 text-center">
                                    <tr class="font-semibold"><td class="px-6 py-4 text-left">Ampla Concorrência (9)</td><td class="px-6 py-4">48,6</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 1</td><td class="px-6 py-4">33,8</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 2</td><td class="px-6 py-4">33,4</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 3</td><td class="px-6 py-4">39,2</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 4</td><td class="px-6 py-4">38,8</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 5</td><td class="px-6 py-4">34,2</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 6</td><td class="px-6 py-4">41,4</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 7</td><td class="px-6 py-4">43,4</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 8</td><td class="px-6 py-4">41,2</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Conteúdo 2023 -->
                        <div id="content-hist-2023" class="tab-pane-hist hidden">
                            <h4 class="font-bold text-lg text-center mb-4">Notas de Corte - Ingresso 2023</h4>
                            <p class="text-center text-sm text-gray-500 mb-1">Total de Inscritos: 2.071</p>
                             <p class="text-center text-sm text-gray-500 mb-4">Nota Objetiva para Correção da Redação: <strong>35,00 / 58,00</strong></p>
                            <table class="min-w-full divide-y divide-gray-200">
                                 <thead class="bg-slate-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Modalidade</th>
                                        <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Corte (Último Convocado)</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200 text-center">
                                    <tr class="font-semibold"><td class="px-6 py-4 text-left">Ampla Concorrência (9)</td><td class="px-6 py-4">57,4</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 1</td><td class="px-6 py-4">43,4</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 2</td><td class="px-6 py-4">44,8</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 3</td><td class="px-6 py-4">48,8</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 4</td><td class="px-6 py-4">44,8</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 5</td><td class="px-6 py-4">41,4</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 6</td><td class="px-6 py-4">46,4</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 7</td><td class="px-6 py-4">49,2</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 8</td><td class="px-6 py-4">56,6</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Conteúdo 2022 -->
                        <div id="content-hist-2022" class="tab-pane-hist hidden">
                            <h4 class="font-bold text-lg text-center mb-4">Notas de Corte - Ingresso 2022</h4>
                            <p class="text-center text-sm text-gray-500 mb-1">Total de Inscritos: 1.862</p>
                            <p class="text-center text-sm text-gray-500 mb-4">Nota Objetiva para Correção da Redação: <strong>33,00 / 58,00</strong></p>
                             <table class="min-w-full divide-y divide-gray-200">
                                 <thead class="bg-slate-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Modalidade</th>
                                        <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Corte (Último Convocado)</th>
                                    </tr>
                                </thead>
                               <tbody class="bg-white divide-y divide-gray-200 text-center">
                                    <tr class="font-semibold"><td class="px-6 py-4 text-left">Ampla Concorrência (9)</td><td class="px-6 py-4">57,4</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 1</td><td class="px-6 py-4">42,8</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 2</td><td class="px-6 py-4">N/A</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 3</td><td class="px-6 py-4">48,8</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 4</td><td class="px-6 py-4">45,4</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 5</td><td class="px-6 py-4">43,8</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 6</td><td class="px-6 py-4">48,0</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 7</td><td class="px-6 py-4">49,4</td></tr>
                                    <tr><td class="px-6 py-4 text-left">Cota 8</td><td class="px-6 py-4">48,0</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Conteúdo 2021 -->
                        <div id="content-hist-2021" class="tab-pane-hist hidden">
                            <h4 class="font-bold text-lg text-center mb-4">Dados de 2021 (Sistema de Bônus)</h4>
                            <p class="text-center text-sm text-gray-500 mb-1">Total de Inscritos: 2.321 (recorde)</p>
                            <p class="text-center text-sm text-gray-500 mb-4">Nota Objetiva para Correção da Redação: <strong>40,80 / 58,00</strong></p>
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-slate-50">
                                   <tr>
                                       <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Modalidade</th>
                                       <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Corte (Último Convocado)</th>
                                   </tr>
                               </thead>
                               <tbody class="bg-white divide-y divide-gray-200 text-center">
                                   <tr class="font-semibold"><td class="px-6 py-4 text-left">Menor Nota de Corte Geral</td><td class="px-6 py-4">57,12</td></tr>
                               </tbody>
                           </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Seção Conteúdo Programático -->
            <section id="conteudo" class="section-card">
                <h3 class="text-2xl font-bold text-center mb-8" style="color: var(--brand-purple);">O que Estudar? Conteúdo Programático</h3>
                <div class="grid grid-cols-4 md:grid-cols-9 gap-4 text-center mb-8">
                    <!-- Ícones das Disciplinas -->
                    <div onclick="showContent('portugues')" class="subject-icon active p-3 rounded-lg cursor-pointer bg-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mx-auto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 6h4"/><path d="M2 10h4"/><path d="M2 14h4"/><path d="M2 18h4"/><rect width="16" height="20" x="4" y="2" rx="2"/><path d="M15 2v20"/><path d="M15 7h5"/><path d="M15 12h5"/><path d="M15 17h5"/></svg>
                        <span class="text-xs font-bold">Português</span>
                    </div>
                     <div onclick="showContent('matematica')" class="subject-icon p-3 rounded-lg cursor-pointer bg-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mx-auto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" x2="12" y1="4" y2="20"/><line x1="4" x2="20" y1="12" y2="12"/><line x1="17.66" x2="6.34" y1="6.34" y2="17.66"/><line x1="17.66" x2="6.34" y1="17.66" y2="6.34"/></svg>
                        <span class="text-xs font-bold">Matemática</span>
                    </div>
                     <div onclick="showContent('biologia')" class="subject-icon p-3 rounded-lg cursor-pointer bg-gray-100">
                       <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mx-auto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 22a8 8 0 1 1 16 0h-4a4 4 0 1 0-8 0H2Z"/><path d="M6 18V8"/><path d="M6 12h4a2 2 0 0 1 2 2v4H6Z"/></svg>
                       <span class="text-xs font-bold">Biologia</span>
                    </div>
                     <div onclick="showContent('quimica')" class="subject-icon p-3 rounded-lg cursor-pointer bg-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mx-auto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16.2 3.8a2.1 2.1 0 0 1 3 2.2l-2 7.5c-.2.7-.9 1.2-1.7 1.1l-6-1.5c-.8-.2-1.4-1-1.2-1.8l2-7.5a2.1 2.1 0 0 1 3-2.2Z"/><path d="m5.2 9.2-1.5 6.1C3.5 16.2 4 17 5 17h.5"/><path d="m14 13 1.8 2.2a2.1 2.1 0 0 1-1 3.6l-6.2-1.6c-.8-.2-1.4-.9-1.2-1.7l1.6-6.2a2.1 2.1 0 0 1 3.6-1L14 13Z"/><path d="M3 21h12"/><path d="M7 17v4"/></svg>
                        <span class="text-xs font-bold">Química</span>
                    </div>
                     <div onclick="showContent('fisica')" class="subject-icon p-3 rounded-lg cursor-pointer bg-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mx-auto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/><circle cx="12" cy="12" r="4"/><path d="M12 18a6 6 0 0 0 6-6h-6Z"/></svg>
                        <span class="text-xs font-bold">Física</span>
                    </div>
                     <div onclick="showContent('historia')" class="subject-icon p-3 rounded-lg cursor-pointer bg-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mx-auto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22a7 7 0 0 0 7-7h-4a3 3 0 0 1-3-3V5a3 3 0 0 0-3-3a7 7 0 0 0-7 7h4a3 3 0 0 1 3 3v7a3 3 0 0 0 3 3Z"/><path d="M20.7 7.5a1 1 0 0 0-1.2-1.2l-3.6 3.6a1 1 0 0 0 1.2 1.2z"/></svg>
                        <span class="text-xs font-bold">História</span>
                    </div>
                    <div onclick="showContent('geografia')" class="subject-icon p-3 rounded-lg cursor-pointer bg-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mx-auto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
                        <span class="text-xs font-bold">Geografia</span>
                    </div>
                    <div onclick="showContent('ingles')" class="subject-icon p-3 rounded-lg cursor-pointer bg-gray-100">
                       <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mx-auto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 11.5a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0Z"/><path d="M12 3v2"/><path d="m6.6 5.2.9.9"/><path d="M3 11.5h2"/><path d="m6.6 17.8.9-.9"/><path d="M12 21v-2"/><path d="m17.4 17.8-.9-.9"/><path d="M21 11.5h-2"/><path d="m17.4 5.2-.9.9"/></svg>
                       <span class="text-xs font-bold">Inglês</span>
                    </div>
                     <div onclick="showContent('redacao')" class="subject-icon p-3 rounded-lg cursor-pointer bg-gray-100">
                       <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mx-auto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22h6a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v8"/><path d="M18 18h-5"/><path d="M18 14h-3"/><path d="M18 10h-1"/><path d="M12 18H7a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2h1"/></svg>
                       <span class="text-xs font-bold">Redação</span>
                    </div>
                </div>

                <div id="content-display" class="bg-slate-50 p-6 rounded-lg">
                    <!-- Conteúdo das disciplinas será injetado aqui -->
                </div>
            </section>

            <!-- Nova Seção: Detalhes das Cotas -->
            <section id="detalhes-cotas" class="section-card">
                <h3 class="text-2xl font-bold text-center mb-8" style="color: var(--brand-purple);">Detalhes das Modalidades de Cotas</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div>
                        <label for="cotas-ano-select" class="font-semibold text-sm text-gray-600">Selecione o Ano:</label>
                        <select id="cotas-ano-select" class="w-full mt-1 p-2 border rounded-md focus:ring-purple-500 focus:border-purple-500" onchange="displayQuotaDetails()">
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                        </select>
                    </div>
                </div>
                <div id="quota-details-display" class="mt-4">
                    <!-- Detalhes das cotas serão exibidos aqui -->
                </div>
            </section>

            <!-- Seção de Dicas -->
            <section id="dicas" class="section-card">
                <h3 class="text-2xl font-bold text-center mb-8" style="color: var(--brand-purple);">Dicas de Ouro para o Vestibular</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="flex items-start">
                         <div class="p-2 rounded-full mr-4" style="background-color: var(--brand-lime);">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" style="color: var(--brand-purple);" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect width="8" height="4" x="8" y="2" rx="1"/></svg>
                        </div>
                        <div>
                            <h4 class="font-bold">Crie um Cronograma Realista</h4>
                            <p class="text-gray-600">Organize seu tempo de estudo, alternando entre as matérias para não sobrecarregar. Inclua pausas e momentos de lazer.</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="p-2 rounded-full mr-4" style="background-color: var(--brand-lime);">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" style="color: var(--brand-purple);" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9"/><path d="M17.64 15 22 10.64"/><path d="m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.25 1.94c.88.76 1.25 1.9.96 3.06L20.91 11.7Z"/></svg>
                        </div>
                        <div>
                            <h4 class="font-bold">Resolva Provas Anteriores</h4>
                            <p class="text-gray-600">Esta é a melhor forma de entender o estilo da prova, o nível das questões e gerenciar seu tempo de resposta.</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="p-2 rounded-full mr-4" style="background-color: var(--brand-lime);">
                           <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" style="color: var(--brand-purple);" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                        </div>
                        <div>
                            <h4 class="font-bold">Atenção à Redação</h4>
                            <p class="text-gray-600">Pratique a escrita toda semana, leia bastante sobre atualidades e entenda os critérios de correção. Uma boa redação faz toda a diferença!</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="p-2 rounded-full mr-4" style="background-color: var(--brand-lime);">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" style="color: var(--brand-purple);" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 13V2l8 4-8 4"/><path d="M12 22v-8"/><path d="M20 10.5v7c0 .8-.5 1.5-1.3 1.8l-6 2.3c-.4.2-.9.2-1.3 0l-6-2.3A2 2 0 0 1 4 17.5v-7"/><path d="m4 6.5 8 4 8-4"/><path d="m4 13.5 8 4 8-4"/></svg>
                        </div>
                        <div>
                            <h4 class="font-bold">Cuide da Saúde Mental e Física</h4>
                            <p class="text-gray-600">Durma bem, alimente-se de forma saudável e faça atividades físicas. Um corpo e mente sãos aprendem melhor.</p>
                        </div>
                    </div>
                </div>
            </section>

             <!-- Seção CTA (Call-to-Action) - Final (Nova Roupagem com gradiente) -->
            <section id="cta-final" class="section-card text-center" style="background: linear-gradient(45deg, var(--primary-blue), var(--teal));">
                <h3 class="text-3xl font-black text-white mb-3">Está Pronto para Começar?</h3>
                <p class="max-w-2xl mx-auto mb-6 text-blue-100">Não deixe sua aprovação para depois. Garanta sua vaga no Coluni com a melhor preparação. Fale conosco e descubra o plano de estudos ideal para você!</p>
                 <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
                     <a href="https://imperioaulas.online/?fbclid=PAQ0xDSwK2VtVleHRuA2FlbQIxMQABp4ahcb14iDSFf2DeewkyWYMxb9B-GNzOouE9UAhqMapySb6SsHFIueHCbdLD_aem_LVZ8G4rYY6Cs7zsvM1K1sHw" target="_blank" class="cta-button-primary flex items-center justify-center font-bold py-3 px-6 rounded-lg w-full sm:w-auto">
                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M12 13V2l8 4-8 4"/><path d="M12 22v-8"/><path d="M20 10.5v7c0 .8-.5 1.5-1.3 1.8l-6 2.3c-.4.2-.9.2-1.3 0l-6-2.3A2 2 0 0 1 4 17.5v-7"/><path d="m4 6.5 8 4 8-4"/><path d="m4 13.5 8 4 8-4"/></svg>
                        Conheça o Curso Completo
                    </a>
                    <a href="https://wa.me/message/CNC5OQFPKLE7K1" target="_blank" class="flex items-center justify-center font-bold py-3 px-6 rounded-lg border-2 border-blue-300 text-blue-200 hover:bg-blue-300 hover:text-white transition-colors w-full sm:w-auto">
                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
                        Fale com a gente no WhatsApp
                    </a>
                </div>
            </section>

            <footer class="text-center mt-12 pt-8 border-t border-slate-200">
                <p class="text-sm text-gray-500">Desenvolvido com ♥ por <strong>Guia Pré-Federal</strong>. Análise baseada em dados públicos do CAP-Coluni UFV.</p>
                <p class="text-xs text-gray-400 mt-2">Verifique sempre as fontes oficiais.</p>
            </footer>
        </div>
    </main>

    <!-- Botão Flutuante de Ação (FAB) -->
    <div class="fab-container">
        <div class="fab-options">
            <a href="https://imperioaulas.online/?fbclid=PAQ0xDSwK2VtVleHRuA2FlbQIxMQABp4ahcb14iDSFf2DeewkyWYMxb9B-GNzOouE9UAhqMapySb6SsHFIueHCbdLD_aem_LVZ8G4rY6Cs7zsvM1K1sHw" target="_blank" class="fab-option">
                <span class="fab-label">Nosso Intensivo</span>
                <div class="fab-icon" style="background-color: #6408b0;">
                    <i class="fas fa-rocket"></i>
                </div>
            </a>
            <a href="https://wa.me/message/CNC5OQFPKLE7K1" target="_blank" class="fab-option">
                <span class="fab-label">Contato WhatsApp</span>
                <div class="fab-icon" style="background-color: #25D366;">
                    <i class="fab fa-whatsapp"></i>
                </div>
            </a>
        </div>
        <button class="fab-main" id="fab-main-button">
            <i class="fas fa-comment-dots icon-open"></i>
            <i class="fas fa-times icon-close"></i>
        </button>
    </div>

    <script>
    // Mobile Menu Toggle
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
    mobileMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', (e) => {
            const href = link.getAttribute('href');
            if (href.startsWith('#')) {
                mobileMenu.classList.add('hidden');
            }
        });
    });

    // Floating Action Button (FAB) Logic
    const fabContainer = document.querySelector('.fab-container');
    const fabMainButton = document.getElementById('fab-main-button');
    fabMainButton.addEventListener('click', (event) => {
        event.stopPropagation(); // Impede que o clique se propague para o document
        fabContainer.classList.toggle('active');
    });
    document.addEventListener('click', (event) => {
        if (!fabContainer.contains(event.target)) {
            fabContainer.classList.remove('active');
        }
    });


    // DADOS HISTÓRICOS ATUALIZADOS COM BASE NA SUA SOLICITAÇÃO
    const dadosHistoricos = {
        '2025': {
            corteObjetiva: 34.00,
            cortes: {
                '1a': {
                    'AC': 54.0,
                    'LB_EP': 40.6,
                    'LI_EP': 39.8,
                    'LI_PCD': 46.6,
                    'LI_PPI': 40.4,
                },
                'ultima': {
                    'AC': 54.0,
                    'LB_EP': 40.6,
                    'LI_EP': 39.8,
                    'LI_PCD': 46.6,
                    'LI_PPI': 40.4,
                }
            }
        },
        '2024': {
            corteObjetiva: 29.00,
            cortes: {
                '1a': {
                    '9': 48.6, // AC
                    '1': 33.8,
                    '2': 33.4,
                    '3': 39.2,
                    '4': 38.8,
                    '5': 34.2,
                    '6': 41.4,
                    '7': 43.4,
                    '8': 41.2,
                },
                'ultima': {
                    '9': 48.6, // AC
                    '1': 33.8,
                    '2': 33.4,
                    '3': 39.2,
                    '4': 38.8,
                    '5': 34.2,
                    '6': 41.4,
                    '7': 43.4,
                    '8': 41.2,
                }
            }
        },
        '2023': {
            corteObjetiva: 35.00,
            cortes: {
                '1a': {
                    '9': 57.4, // AC
                    '1': 43.4,
                    '2': 44.8,
                    '3': 48.8,
                    '4': 44.8,
                    '5': 41.4,
                    '6': 46.4,
                    '7': 49.2,
                    '8': 56.6,
                },
                'ultima': {
                    '9': 57.4, // AC
                    '1': 43.4,
                    '2': 44.8,
                    '3': 48.8,
                    '4': 44.8,
                    '5': 41.4,
                    '6': 46.4,
                    '7': 49.2,
                    '8': 56.6,
                }
            }
        },
        '2022': {
            corteObjetiva: 33.00,
            cortes: {
                '1a': {
                    '9': 57.4, // AC
                    '1': 42.8,
                    '2': null, // No info
                    '3': 48.8,
                    '4': 45.4,
                    '5': 43.8,
                    '6': 48.0,
                    '7': 49.4,
                    '8': 48.0,
                },
                'ultima': {
                    '9': 57.4, // AC
                    '1': 42.8,
                    '2': null, // No info
                    '3': 48.8,
                    '4': 45.4,
                    '5': 43.8,
                    '6': 48.0,
                    '7': 49.4,
                    '8': 48.0,
                }
            }
        },
        '2021': {
            corteObjetiva: 40.80,
            cortes: {
                '1a': { 'All': 57.12, 'NoBonus': 57.2 }, // Alunos de escola pública com bônus e sem bônus
                'ultima': { 'All': 57.12, 'NoBonus': 57.2 } // Mesmos valores para 1a e última chamada em 2021
            }
        }
    };

    // Mapeamento das opções de modalidade para o select dinâmico
    const modalityOptions = {
        '2025': [
            { value: 'AC', text: 'Ampla Concorrência (AC)' },
            { value: 'LB_EP', text: 'LB_EP (Renda <= 1 SM, Esc. Pública)' },
            { value: 'LI_EP', text: 'LI_EP (Indep. Renda, Esc. Pública)' },
            { value: 'LI_PCD', text: 'LI_PCD (PCD, Indep. Renda, Esc. Pública)' },
            { value: 'LI_PPI', text: 'LI_PPI (PPI, Indep. Renda, Esc. Pública)' },
            // As modalidades sem dados de corte para 2025 (LB_PCD, LB_PPI, LB_Q, LI_Q) não serão listadas aqui para evitar confusão,
            // mas podem ser adicionadas com um status "Sem dados" se necessário.
        ],
        '2024': [
            { value: '9', text: 'Ampla Concorrência (9)' },
            { value: '1', text: 'Cota 1 (LB, PPI, sem Def.)' },
            { value: '2', text: 'Cota 2 (LB, PPI, com Def.)' },
            { value: '3', text: 'Cota 3 (LB, Indep. Raça, sem Def.)' },
            { value: '4', text: 'Cota 4 (LB, Indep. Raça, com Def.)' },
            { value: '5', text: 'Cota 5 (LI, PPI, sem Def.)' },
            { value: '6', text: 'Cota 6 (LI, PPI, com Def.)' },
            { value: '7', text: 'Cota 7 (LI, Indep. Raça, sem Def.)' },
            { value: '8', text: 'Cota 8 (LI, Indep. Raça, com Def.)' },
        ],
        '2023': [
            { value: '9', text: 'Ampla Concorrência (9)' },
            { value: '1', text: 'Cota 1 (LB, PPI, sem Def.)' },
            { value: '2', text: 'Cota 2 (LB, PPI, com Def.)' },
            { value: '3', text: 'Cota 3 (LB, Indep. Raça, sem Def.)' },
            { value: '4', text: 'Cota 4 (LB, Indep. Raça, com Def.)' },
            { value: '5', text: 'Cota 5 (LI, PPI, sem Def.)' },
            { value: '6', text: 'Cota 6 (LI, PPI, com Def.)' },
            { value: '7', text: 'Cota 7 (LI, Indep. Raça, sem Def.)' },
            { value: '8', text: 'Cota 8 (LI, Indep. Raça, com Def.)' },
        ],
        '2022': [
            { value: '9', text: 'Ampla Concorrência (9)' },
            { value: '1', text: 'Cota 1 (LB, PPI, sem Def.)' },
            { value: '2', text: 'Cota 2 (LB, PPI, com Def.) - N/A' }, // Explicitamente marcado como N/A
            { value: '3', text: 'Cota 3 (LB, Indep. Raça, sem Def.)' },
            { value: '4', text: 'Cota 4 (LB, Indep. Raça, com Def.)' },
            { value: '5', text: 'Cota 5 (LI, PPI, sem Def.)' },
            { value: '6', text: 'Cota 6 (LI, PPI, com Def.)' },
            { value: '7', text: 'Cota 7 (LI, Indep. Raça, sem Def.)' },
            { value: '8', text: 'Cota 8 (LI, Indep. Raça, com Def.)' },
        ],
        '2021': [
            { value: 'All', text: 'Alunos de Escola Pública com Bônus' },
            { value: 'NoBonus', text: 'Alunos sem Bônus (Ampla Concorrência)' }
        ]
    };

    // Mapeamento universal de cotas para facilitar a comparação entre anos
    // Chave: Modalidade de 2025 (ou universal) -> Valor: Objeto com mapeamento para chaves de outros anos
    const universalQuotaMapping = {
        'AC': { '2025': 'AC', '2024': '9', '2023': '9', '2022': '9', '2021': 'NoBonus' },
        'LB_EP': { '2025': 'LB_EP', '2024': '3', '2023': '3', '2022': '3' },
        'LI_EP': { '2025': 'LI_EP', '2024': '7', '2023': '7', '2022': '7' },
        'LI_PCD': { '2025': 'LI_PCD', '2024': '8', '2023': '8', '2022': '8' },
        'LI_PPI': { '2025': 'LI_PPI', '2024': '5', '2023': '5', '2022': '5' },
        // Adicionar outras cotas de 2025 aqui se houver dados para anos anteriores
        // 'LB_PCD': { '2025': 'LB_PCD', '2024': '4', '2023': '4', '2022': '4' }, // Exemplo, se houver dados
        // 'LB_PPI': { '2025': 'LB_PPI', '2024': '1', '2023': '1', '2022': '1' }, // Exemplo, se houver dados
    };

    // Descrições detalhadas das cotas por ano e modalidade
    const quotaDescriptions = {
        '2025': {
            'AC': 'Ampla Concorrência: Vagas destinadas a todos os candidatos, sem reserva de vagas.',
            'LB_EP': 'Candidatos com renda familiar bruta per capita igual ou inferior a 1 salário mínimo que tenham cursado integralmente o ensino médio em escolas públicas.',
            'LI_EP': 'Candidatos que, independentemente da renda, tenham cursado integralmente o ensino médio em escolas públicas.',
            'LI_PCD': 'Candidatos com deficiência que, independentemente da renda, tenham cursado integralmente o ensino médio em escolas públicas.',
            'LI_PPI': 'Candidatos autodeclarados pretos, pardos ou indígenas, independentemente da renda, que tenham cursado integralmente o ensino médio em escolas públicas.',
            'LB_PCD': 'Candidatos com deficiência e renda familiar bruta per capita igual ou inferior a 1 salário mínimo que tenham cursado integralmente o ensino médio em escolas públicas. (Sem informação de nota de corte para 2025)',
            'LB_PPI': 'Candidatos autodeclarados pretos, pardos ou indígenas e renda familiar bruta per capita igual ou inferior a 1 salário mínimo que tenham cursado integralmente o ensino médio em escolas públicas. (Sem informação de nota de corte para 2025)',
            'LB_Q': 'Candidatos autodeclarados quilombolas e renda familiar bruta per capita igual ou inferior a 1 salário mínimo que tenham cursado integralmente o ensino médio em escolas públicas. (Sem informação de nota de corte para 2025)',
            'LI_Q': 'Candidatos autodeclarados quilombolas, independentemente da renda, que tenham cursado integralmente o ensino médio em escolas públicas. (Sem informação de nota de corte para 2025)',
        },
        '2024': {
            '9': 'Ampla Concorrência (AC): Vagas destinadas a todos os candidatos, sem reserva de vagas.',
            '1': 'Cota 1: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas sem Deficiência.',
            '2': 'Cota 2: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas com Deficiência.',
            '3': 'Cota 3: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça sem Deficiência.',
            '4': 'Cota 4: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça com Deficiência.',
            '5': 'Cota 5: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas sem Deficiência.',
            '6': 'Cota 6: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas com Deficiência.',
            '7': 'Cota 7: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça sem Deficiência.',
            '8': 'Cota 8: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça com Deficiência.',
        },
        '2023': {
            '9': 'Ampla Concorrência (AC): Vagas destinadas a todos os candidatos, sem reserva de vagas.',
            '1': 'Cota 1: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas sem Deficiência.',
            '2': 'Cota 2: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas com Deficiência.',
            '3': 'Cota 3: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça sem Deficiência.',
            '4': 'Cota 4: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça com Deficiência.',
            '5': 'Cota 5: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas sem Deficiência.',
            '6': 'Cota 6: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas com Deficiência.',
            '7': 'Cota 7: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça sem Deficiência.',
            '8': 'Cota 8: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça com Deficiência.',
        },
        '2022': {
            '9': 'Ampla Concorrência (AC): Vagas destinadas a todos os candidatos, sem reserva de vagas.',
            '1': 'Cota 1: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas sem Deficiência.',
            '2': 'Cota 2: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas com Deficiência. (Não há informações disponíveis para esta modalidade no ano de 2022).',
            '3': 'Cota 3: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça sem Deficiência.',
            '4': 'Cota 4: Estudantes de escola pública, com renda mensal bruta menor ou igual a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça com Deficiência.',
            '5': 'Cota 5: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas sem Deficiência.',
            '6': 'Cota 6: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Pretos, Pardos e Indígenas com Deficiência.',
            '7': 'Cota 7: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça sem Deficiência.',
            '8': 'Cota 8: Estudantes de escola pública, com renda mensal bruta maior a 1,5 salário mínimo (por pessoa da família), Etnia: Independente de raça com Deficiência.',
        },
        '2021': {
            'All': 'Alunos de Escola Pública com Bônus: Em 2021, o sistema de cotas não existia. No entanto, todo aluno de escola pública recebia 20% acrescido em sua nota.',
            'NoBonus': 'Alunos sem Bônus (equivalente à Ampla Concorrência): Não se enquadravam no bônus de escola pública.'
        }
    };


    const syllabusData = {
        portugues: `
            <h4 class="font-bold text-lg mb-4">Língua Portuguesa e Literatura</h4>
            <div class="space-y-3">
                <div>
                    <h5 class="font-semibold">Leitura de Textos</h5>
                    <ul class="list-disc list-inside text-gray-700 ml-4">
                        <li>Identificar tema central e subtemas; construir sentido global.</li>
                        <li>Interpretar e relacionar ideias.</li>
                        <li>Relacionar ideias com a realidade vivida.</li>
                        <li>Identificar relações intertextuais.</li>
                        <li>Posicionar-se criticamente.</li>
                        <li>Reconhecer significações e efeitos de sentido das palavras.</li>
                        <li>Distinguir fato de opinião.</li>
                        <li>Interpretar linguagem verbal e não verbal.</li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-semibold">Análise Linguística</h5>
                     <ul class="list-disc list-inside text-gray-700 ml-4">
                        <li>Elementos de textualização: coesão e coerência.</li>
                        <li>Relações morfossintáticas, semânticas e argumentativas.</li>
                        <li>Variedades linguísticas e registros (formal e informal).</li>
                    </ul>
                </div>
                 <div>
                    <h5 class="font-semibold">Leitura da Obra Literária</h5>
                     <ul class="list-disc list-inside text-gray-700 ml-4">
                        <li>Identificar gênero e função social.</li>
                        <li>Elementos do texto narrativo, dramático e poético.</li>
                        <li>Relação entre texto, contexto e produção sócio-histórica.</li>
                        <li>Análise de recursos de estilo: figuras de linguagem (metáfora, ironia, etc.).</li>
                    </ul>
                </div>
            </div>`,
        redacao: `
            <h4 class="font-bold text-lg mb-4">Produção de Texto (Redação)</h4>
            <div>
                <h5 class="font-semibold">Competências Avaliadas</h5>
                <ul class="list-disc list-inside space-y-2 text-gray-700 ml-4">
                    <li><b>Clareza e Adequação:</b> Redigir com precisão, adequando a linguagem ao tema e à proposta.</li>
                    <li><b>Domínio do Tema e Gênero:</b> Demonstrar compreensão do conteúdo proposto e adequação aos diferentes tipos e gêneros textuais.</li>
                    <li><b>Argumentação:</b> Construir argumentação pertinente e bem fundamentada, especialmente em textos dissertativo-argumentativos.</li>
                    <li><b>Norma Padrão:</b> Apresentar domínio dos fenômenos morfológicos, sintáticos e semânticos da língua.</li>
                    <li><b>Coesão e Coerência:</b> Utilizar corretamente os mecanismos que garantem a ligação e o sentido do texto.</li>
                </ul>
            </div>
            <div class="mt-4">
                <h5 class="font-semibold">Gêneros Textuais a Dominar</h5>
                 <ul class="list-disc list-inside text-gray-700 ml-4">
                    <li><b>Narrativos:</b> Contos, lendas, fábulas, crônicas, romances.</li>
                    <li><b>Descritivos:</b> Descrição de pessoas, lugares, objetos.</li>
                    <li><b>Argumentativos:</b> Artigos de opinião, cartas de leitor, debates.</li>
                    <li><b>Instrucionais:</b> Receitas, manuais, instruções.</li>
                    <li><b>Expositivos:</b> Notícias, reportagens, artigos informativos.</li>
                    <li><b>Poéticos:</b> Poemas, cordéis, músicas.</li>
                    <li><b>Jornalísticos:</b> Notícias, reportagens, artigos informativos.</li>
                    <li><b>Outros:</b> Cartas, e-mails, resenhas, avisos, convites.</li>
                </ul>
            </div>`,
        matematica: `
            <h4 class="font-bold text-lg mb-4">Matemática</h4>
             <div class="space-y-3">
                <div>
                    <h5 class="font-semibold">Conjuntos e Números</h5>
                    <ul class="list-disc list-inside text-gray-700 ml-4">
                        <li>Operações com conjuntos.</li>
                        <li>Números naturais, inteiros, racionais, irracionais e reais: operações, propriedades, divisibilidade, MMC, MDC, potenciação, radicais e racionalização.</li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-semibold">Álgebra e Funções</h5>
                     <ul class="list-disc list-inside text-gray-700 ml-4">
                        <li>Expressões algébricas, produtos notáveis, fatoração.</li>
                        <li>Equações e inequações de 1º e 2º graus; sistemas de equações.</li>
                        <li>Funções de 1º e 2º graus: conceito, domínio, imagem, gráficos e variação de sinal.</li>
                    </ul>
                </div>
                 <div>
                    <h5 class="font-semibold">Geometria</h5>
                     <ul class="list-disc list-inside text-gray-700 ml-4">
                        <li>Círculo e circunferência, Teorema de Tales, congruência e semelhança de triângulos.</li>
                        <li>Relações métricas e trigonométricas no triângulo.</li>
                        <li>Área de figuras planas e polígonos regulares.</li>
                         <li>Cálculo de volume e capacidade.</li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-semibold">Matemática Aplicada</h5>
                     <ul class="list-disc list-inside text-gray-700 ml-4">
                        <li>Razões, proporções, escalas, regra de três, porcentagem e juros simples.</li>
                        <li>Estatística: leitura e interpretação de tabelas e gráficos, cálculo de Média Aritmética.</li>
                    </ul>
                </div>
            </div>`,
        biologia: `
            <h4 class="font-bold text-lg mb-4">Biologia</h4>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><b>Fundamentos da Vida:</b> Características dos seres vivos, origem da vida e evolução biológica.</li>
                <li><b>Citologia:</b> Estruturas e funções da célula animal e vegetal (membrana, organelas, núcleo). Respiração celular e fermentação. Divisão celular (mitose e meiose).</li>
                <li><b>Seres Vivos:</b> Classificação e características de vírus, bactérias, protozoários, algas, fungos, plantas e animais. Reprodução assexuada e sexuada.</li>
                <li><b>Botânica:</b> Órgãos vegetativos e reprodutivos. Processos de absorção, transporte, transpiração, respiração e fotossíntese.</li>
                <li><b>Fisiologia Humana:</b> Tecidos e sistemas (digestório, respiratório, cardiovascular, urinário, locomotor, nervoso, hormonal, reprodutor).</li>
                <li><b>Genética:</b> DNA, cromossomos, 1ª Lei de Mendel, determinação do sexo, herança ligada ao sexo, grupos sanguíneos (ABO e Rh).</li>
                <li><b>Ecologia e Saúde:</b> Ecossistemas brasileiros, cadeias e teias alimentares, relações ecológicas, principais problemas ambientais. Principais doenças carenciais, infecto-contagiosas, parasitárias e DSTs.</li>
                <li><b>Biotecnologia:</b> Engenharia genética, OGM, clonagem e células-tronco.</li>
            </ul>`,
        quimica: `
            <h4 class="font-bold text-lg mb-4">Química</h4>
             <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><b>Matéria e Propriedades:</b> Identificação de conhecimentos químicos no cotidiano. Propriedades gerais e específicas. Separação de misturas. Misturas, substâncias e fases. Fenômenos químicos e físicos.</li>
                <li><b>Reações Químicas:</b> Ocorrência, identificação e representação. Reações de combustão e de neutralização ácido-base.</li>
                <li><b>Estrutura da Matéria:</b> Modelo cinético molecular (estados físicos, forças intermoleculares). Comportamento elétrico da matéria (prótons e elétrons). Modelos atômicos (Dalton, Thomson, Rutherford-Bohr). Partículas constituintes do átomo. Elementos químicos (símbolos, nomes, número atômico via Tabela Periódica).</li>
            </ul>`,
        fisica: `
             <h4 class="font-bold text-lg mb-4">Física</h4>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><b>Mecânica:</b> Movimento (trajetória, velocidade, aceleração). Leis de Newton, massa e peso, força de atrito, máquinas simples. Trabalho, potência e energia (cinética e potencial).</li>
                <li><b>Termologia:</b> Calor, propagação, temperatura, termômetros, dilatação térmica, mudanças de fase, evaporação.</li>
                <li><b>Fluidos:</b> Densidade, pressão (atmosférica, em líquidos), vasos comunicantes, prensa hidráulica, empuxo.</li>
                <li><b>Ondulatória:</b> Características de ondas, propagação de ondas mecânicas e eletromagnéticas, som, reflexão e eco.</li>
                <li><b>Óptica:</b> Propagação da luz, reflexão (espelhos planos e esféricos), refração (lentes), dispersão luminosa.</li>
                <li><b>Eletromagnetismo:</b> Cargas elétricas, eletrização. Condutores e isolantes. Corrente elétrica, circuito elétrico simples (série, paralelo, misto). Consumo de energia elétrica. Ímãs, magnetismo terrestre, bússola e eletroímãs.</li>
            </ul>`,
        historia: `
            <h4 class="font-bold text-lg mb-4">História</h4>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><b>Crise da Ordem Burguesa:</b> Expansão imperialista e Primeira Guerra Mundial. Revolução Russa. Crise de 1929. Regimes totalitários e nazifascistas. Segunda Guerra Mundial e a ordem mundial pós-1945. Guerra Fria. Descolonização afro-asiática. América Latina nos séculos XX e XXI e atualidades.</li>
                <li><b>Formação do Brasil no Século XX:</b> Consolidação e crise da República Oligárquica. Revolução de 1930. O Estado Novo (1937-1945). Ascensão e crise dos Governos Populistas. Os governos militares e a redemocratização do Brasil. Da Nova República aos dias atuais. Aspectos socioculturais.</li>
            </ul>`,
        geografia: `
            <h4 class="font-bold text-lg mb-4">Geografia</h4>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><b>Cartografia e Terra:</b> Pontos e meios de orientação, análise e interpretação de mapas, movimentos do planeta Terra e suas consequências.</li>
                <li><b>Dinâmicas da Natureza:</b> Formas do relevo (agentes formadores e modificadores), hidrografia e bacias hidrográficas, clima e dinâmica atmosférica, paisagens naturais e impactos socioambientais.</li>
                <li><b>Espaço Geográfico Mundial:</b> Formação e diversidade dos continentes (América, Ásia, África, Europa, Oceania e Antártida). Características econômicas, socioculturais, políticas e ambientais do espaço mundial.</li>
                <li><b>Espaço Geográfico Brasileiro:</b> O Brasil no contexto regional e mundial, atividades econômicas, urbanização, espaço agrário, estrutura e dinâmica populacional, diversidades regionais.</li>
            </ul>`,
        ingles: `
            <h4 class="font-bold text-lg mb-4">Inglês</h4>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><b>Leitura e Estratégias:</b> Compreensão de diferentes gêneros textuais, antecipação de sentido, inferência, identificação de informações-chave (skimming e scanning), percepção da intenção do autor, interpretação de linguagem verbal e não verbal, e recursos de persuasão.</li>
                <li><b>Conhecimentos Linguísticos e Gramaticais:</b> Presente Simples e Contínuo, Passado Simples e Contínuo, Imperativo, Futuro (going to e will). Pronomes (sujeito, objeto, possessivos, relativos). Conectores, verbo modal 'can' (habilidades), sufixos e prefixos, comparativos e superlativos, e quantificadores (some, any, many, much).</li>
            </ul>`
    };

    document.addEventListener('DOMContentLoaded', () => {
        showContent('portugues'); // Exibe o conteúdo de Português por padrão
        changeHistTab('2025'); // Exibe a aba de histórico de 2025 por padrão
        updateModalidadeOptions(); // Popula as opções de modalidade ao carregar
        displayQuotaDetails(); // Exibe os detalhes das cotas ao carregar
    });

    function showContent(subject) {
        document.getElementById('content-display').innerHTML = syllabusData[subject];
        document.querySelectorAll('.subject-icon').forEach(icon => {
            icon.classList.remove('active');
        });
        document.querySelector(`[onclick="showContent('${subject}')"]`).classList.add('active');
    }

    function changeHistTab(tabId) {
        const tabsContainer = document.getElementById('tabs-container-hist');
        const tabButtons = tabsContainer.querySelectorAll('.tab-button-hist');
        const tabPanes = tabsContainer.querySelectorAll('.tab-pane-hist');

        tabButtons.forEach(button => {
            button.classList.remove('active');
            if (button.getAttribute('onclick').includes(tabId)) {
                button.classList.add('active');
            }
        });
        tabPanes.forEach(pane => {
            pane.classList.add('hidden');
            if (pane.id === `content-hist-${tabId}`) {
                pane.classList.remove('hidden');
            }
        });
    }

    function updateModalidadeOptions() {
        // A seleção de ano de referência foi removida, então sempre usamos 2025 como base para as opções
        const selectedYearForOptions = '2025'; 
        const modalidadeSelect = document.getElementById('sim-modalidade');

        modalidadeSelect.innerHTML = ''; // Limpa as opções existentes

        const options = modalityOptions[selectedYearForOptions];
        if (options) {
            options.forEach(optionData => {
                const option = document.createElement('option');
                option.value = optionData.value; // This is the key (e.g., 'AC', 'LB_EP')
                option.textContent = optionData.text; // This is the display text
                modalidadeSelect.appendChild(option);
            });
        }
        // O checkbox de bônus para 2021 está sempre habilitado agora.
        // Sua lógica de aplicação é tratada dentro da função simularNota().
    }

    function simularNota() {
        const acertos = {
            port: parseInt(document.getElementById('q-port').value) || 0,
            mat: parseInt(document.getElementById('q-mat').value) || 0,
            ciencia: parseInt(document.getElementById('q-ciencia').value) || 0,
            geo: parseInt(document.getElementById('q-geo').value) || 0,
            hist: parseInt(document.getElementById('q-hist').value) || 0,
            eng: parseInt(document.getElementById('q-eng').value) || 0
        };
        
        const notaRedacao = parseFloat(document.getElementById('nota-redacao').value) || 0;
        // A modalidade selecionada é sempre do padrão 2025, pois o select agora só tem essas opções.
        const modalidadeSelecionadaNaCalculadora = document.getElementById('sim-modalidade').value; 
        const temBonus2021 = document.getElementById('bonus-2021').checked;

        const notaObjetiva = (acertos.port * 2) + (acertos.mat * 2) + acertos.ciencia + acertos.geo + acertos.hist + acertos.eng;
        
        let resultadoHtml = `
            <h4 class="text-xl font-bold text-center mb-4 text-gray-800">Seu Desempenho Simulado</h4>
            <p class="text-center font-semibold mb-6">Sua nota na prova objetiva: <span class="text-2xl" style="color: var(--brand-purple);">${notaObjetiva.toFixed(2)}</span> / 58,00</p>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-slate-50">
                        <tr>
                            <th class="px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase">Ano</th>
                            <th class="px-4 py-2 text-center text-xs font-bold text-gray-500 uppercase">Redação Corrigida?</th>
                            <th class="px-4 py-2 text-center text-xs font-bold text-gray-500 uppercase">Sua Nota Final</th>
                            <th class="px-4 py-2 text-center text-xs font-bold text-gray-500 uppercase">Corte (Último Convocado)</th>
                            <th class="px-4 py-2 text-center text-xs font-bold text-gray-500 uppercase">Pontos Faltantes*</th>
                            <th class="px-4 py-2 text-center text-xs font-bold text-gray-500 uppercase">Situação Final</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">`;

        // Loop para mostrar o desempenho em todos os anos
        const anosDisponiveis = Object.keys(dadosHistoricos).sort((a, b) => parseInt(b) - parseInt(a)); // Ordena do mais recente para o mais antigo

        for (const ano of anosDisponiveis) {
            const dadosAno = dadosHistoricos[ano];
            let statusRedacao = 'Não';
            let corStatusRedacao = 'text-red-600';
            let notaFinal = '--';
            let pontosFaltantes = '--';
            let situacao = '<span class="font-semibold text-gray-500">Reprovado na Objetiva</span>';
            let notaCorteModalidade = '--';

            let notaObjetivaCalculadaParaAno = notaObjetiva;
            if (ano === '2021' && temBonus2021) { // Aplica o bônus de 20% apenas se for 2021 E o checkbox estiver marcado
                 notaObjetivaCalculadaParaAno *= 1.2;
            }

            if (notaObjetiva >= dadosAno.corteObjetiva) {
                statusRedacao = 'Sim';
                corStatusRedacao = 'text-green-600';
                
                const suaNotaFinalNum = notaObjetivaCalculadaParaAno + notaRedacao;
                notaFinal = suaNotaFinalNum.toFixed(2);
                
                let corteUltimaParaAno;
                let resolvedModalidadeKeyForLookup;

                if (ano === '2021') {
                    // Para 2021, a modalidade de comparação depende do checkbox de bônus
                    resolvedModalidadeKeyForLookup = temBonus2021 ? 'All' : 'NoBonus';
                    corteUltimaParaAno = dadosAno.cortes['ultima'][resolvedModalidadeKeyForLookup];
                } else if (ano === '2025') {
                    // Para 2025, a modalidade já é a correta
                    resolvedModalidadeKeyForLookup = modalidadeSelecionadaNaCalculadora;
                    corteUltimaParaAno = dadosAno.cortes['ultima'][resolvedModalidadeKeyForLookup];
                } else { // Anos 2022, 2023, 2024
                    // Tenta encontrar a equivalência da modalidade de 2025 para os códigos antigos
                    resolvedModalidadeKeyForLookup = universalQuotaMapping[modalidadeSelecionadaNaCalculadora]?.[ano];
                    
                    if (resolvedModalidadeKeyForLookup) { // Verifica se há um mapeamento para o ano
                        corteUltimaParaAno = dadosAno.cortes['ultima'][resolvedModalidadeKeyForLookup];
                    } else {
                        corteUltimaParaAno = null; // Indica que não há dados ou equivalência clara
                    }
                }
                
                if (corteUltimaParaAno === null || typeof corteUltimaParaAno === 'undefined') {
                    notaCorteModalidade = 'N/A';
                    situacao = `<span class="font-semibold text-gray-500">Dados de corte indisponíveis para esta modalidade/ano.</span>`;
                } else {
                    notaCorteModalidade = corteUltimaParaAno.toFixed(2);

                    if (suaNotaFinalNum >= corteUltimaParaAno) {
                        situacao = '<span class="font-bold" style="color: var(--brand-purple);">Aprovado(a)!</span>';
                        pontosFaltantes = '0.00'; // Se aprovado, 0 pontos faltantes
                    } else {
                        situacao = `<span class="font-semibold text-red-600">Faltou</span>`;
                        pontosFaltantes = (corteUltimaParaAno - suaNotaFinalNum).toFixed(2);
                    }
                }
            } else {
                // Se reprovado na objetiva, calcular pontos faltantes para o corte da objetiva
                pontosFaltantes = (dadosAno.corteObjetiva - notaObjetiva).toFixed(2);
                situacao = '<span class="font-semibold text-gray-500">Reprovado na Objetiva</span>';

                // Ainda tentar exibir a nota de corte para a modalidade, se disponível
                let corteModalidadeExibicao;
                let resolvedModalidadeKeyForLookup;

                if (ano === '2021') {
                    resolvedModalidadeKeyForLookup = temBonus2021 ? 'All' : 'NoBonus';
                    corteModalidadeExibicao = dadosAno.cortes['ultima'][resolvedModalidadeKeyForLookup];
                } else if (ano === '2025') {
                    corteModalidadeExibicao = dadosAno.cortes['ultima'][modalidadeSelecionadaNaCalculadora];
                } else {
                    resolvedModalidadeKeyForLookup = universalQuotaMapping[modalidadeSelecionadaNaCalculadora]?.[ano];
                    if (resolvedModalidadeKeyForLookup) {
                        corteModalidadeExibicao = dadosAno.cortes['ultima'][resolvedModalidadeKeyForLookup];
                    } else {
                        corteModalidadeExibicao = null;
                    }
                }

                if (corteModalidadeExibicao !== null && typeof corteModalidadeExibicao !== 'undefined') {
                    notaCorteModalidade = corteModalidadeExibicao.toFixed(2);
                } else {
                    notaCorteModalidade = 'N/A';
                }
            }
            
            resultadoHtml += `
                <tr class="text-center">
                    <td class="px-4 py-3 font-bold text-left">${ano}</td>
                    <td class="px-4 py-3 font-semibold ${corStatusRedacao}">${statusRedacao}</td>
                    <td class="px-4 py-3 font-bold">${notaFinal}</td>
                    <td class="px-4 py-3 font-bold text-gray-600">${notaCorteModalidade}</td>
                    <td class="px-4 py-3 font-semibold ${parseFloat(pontosFaltantes) > 0 ? 'text-red-500' : 'text-green-600'}">${pontosFaltantes}</td>
                    <td class="px-4 py-3">${situacao}</td>
                </tr>`;
        }

        resultadoHtml += `</tbody></table></div>
        <p class="text-xs text-gray-500 mt-4">* <strong>Pontos Faltantes:</strong> Indica quantos pontos faltaram para atingir a nota de corte da última chamada (se a redação foi corrigida) ou para ter a redação corrigida (se reprovado na objetiva).</p>`;
        
        const resultadoDiv = document.getElementById('resultado-simulador');
        resultadoDiv.innerHTML = resultadoHtml;
        resultadoDiv.classList.remove('hidden');
    }

    function displayQuotaDetails() {
        const selectedYear = document.getElementById('cotas-ano-select').value;
        const detailsDisplay = document.getElementById('quota-details-display');
        detailsDisplay.innerHTML = ''; // Clear previous details

        const details = quotaDescriptions[selectedYear];
        if (details) {
            for (const key in details) {
                const detailCard = document.createElement('div');
                detailCard.className = 'quota-detail-card';
                detailCard.innerHTML = `<h4>${key}</h4><p>${details[key]}</p>`;
                detailsDisplay.appendChild(detailCard);
            }
        } else {
            detailsDisplay.innerHTML = '<p class="text-center text-gray-500">Nenhum detalhe de cota disponível para este ano.</p>';
        }
    }

    </script>
</body>
</html>
